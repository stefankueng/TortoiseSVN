<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE appendix SYSTEM "../../dtd/dblite.dtd">
<appendix id="tsvn-admins" xmlns:xi="http://www.w3.org/2001/XInclude">
	<title>Administrators</title>
	<simplesect>
		<para>
			This appendix contains solutions to problems/questions you might
			have when you are responsible for deploying TortoiseSVN to multiple
			client computers.
		</para>
	</simplesect>
	<sect1 id="tsvn-admins-grouppolicies">
		<title>Deploy TortoiseSVN via group policies</title>
		<indexterm>
			<primary>group policies</primary>
		</indexterm>
		<indexterm>
			<primary>GPO</primary>
		</indexterm>
		<para>
			The TortoiseSVN installer comes as an MSI file, which means you
			should have no problems adding that MSI file to the group policies
			of your domain controller.
		</para>
		<para>
			A good walk-through on how to do that can be found in the knowledge
			base article 314934 from Microsoft:
			<ulink url="http://support.microsoft.com/?kbid=314934">
				<citetitle>http://support.microsoft.com/?kbid=314934</citetitle>
			</ulink>.
		</para>
		<para>
			Versions 1.3.0 and later of TortoiseSVN must be installed under
			<emphasis>Computer Configuration</emphasis> and not under
			<emphasis>User Configuration</emphasis>. This is because those versions
			need the new CRT and MFC DLLs, which can only be deployed <emphasis>per
			computer</emphasis> and not <emphasis>per user</emphasis>.
			If you really must install TortoiseSVN on a per user basis, then you must
			first install the MFC and CRT package version 8 from Microsoft on each
			computer you want to install TortoiseSVN as per user.
		</para>
	</sect1>
	<sect1 id="tsvn-admins-upgradecheck">
		<title>Redirect the upgrade check</title>
		<indexterm>
			<primary>upgrade check</primary>
		</indexterm>
		<para>
			TortoiseSVN checks if there's a new version available every few days.
			If there is a newer version available, a dialog shows up informing
			the user about that.
		</para>
		<figure id="tsvn-admins-dia1">
			<title>The upgrade dialog</title>
			<graphic fileref="images/upgradecheck.png"/>
		</figure>
		<para>
			If you're responsible for a lot of users in your domain, you might want
			your users to use only versions you have approved and not have them install
			always the latest version. You probably don't want that upgrade dialog
			to show up so your users don't go and upgrade immediately.
		</para>
		<para>
			Versions 1.4.0 and later of TortoiseSVN allow you to redirect that upgrade
			check to your intranet server. You can set the registry key
			<filename>HKCU\Software\TortoiseSVN\UpdateCheckURL</filename> (string value)
			to an URL pointing to a text file in your intranet. That text file must have
			the following format:
<screen>
1.4.1.6000
A new version of TortoiseSVN is available for you to download!
http://192.168.2.1/downloads/TortoiseSVN-1.4.1.6000-svn-1.4.0.msi
</screen>
			The first line in that file is the version string. You must make sure that
			it matches the exact version string of the TortoiseSVN installation package.
			The second line is a custom text, shown in the upgrade dialog. You can write
			there whatever you want. Just note that the space in the upgrade dialog is
			limited. Too long messages will get truncated!
			The third line is the URL to the new installation package. This URL is opened
			when the user clicks on the custom message label in the upgrade dialog.
			You can also just point the user to a web page instead of the MSI file directly.
			The URL is opened with the default web browser, so if you specify a web page,
			that page is opened and shown to the user. If you specify the MSI package,
			the browser will ask the user to save the MSI file locally.
		</para>
	</sect1>
	<sect1 id="tsvn-admins-aspdotnethack">
		<title>Setting the SVN_ASP_DOT_NET_HACK environment variable</title>
		<indexterm>
			<primary>SVN_ASP_DOT_NET_HACK</primary>
		</indexterm>
		<para>
			As of version 1.4.0 and later, the TortoiseSVN installer doesn't provide
			the user with the option to set the SVN_ASP_DOT_NET_HACK environment variable
			anymore, since that caused many problems and confusions with users which
			always install <emphasis>everything</emphasis> no matter if they know
			what it is for.
		</para>
		<para>
			But that option is only hidden for the user. You still can force the
			TortoiseSVN installer to set that environment variable by setting the ASPDOTNETHACK
			property to TRUE. For example, you can start the installer like this:
<screen>
msiexec /i TortoiseSVN-1.4.0.msi ASPDOTNETHACK=TRUE
</screen>
		</para>
	</sect1>
</appendix>
