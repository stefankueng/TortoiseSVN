<?xml version="1.0" encoding="UTF-8"?>
<sect1 id="tsvn-DUG-merge">
	<title>Mischen</title>
	<?dbhh topicname="HIDD_MERGE"?>
	<indexterm>
		<primary>merge</primary>
		<primary>mischen</primary>
	</indexterm>
	<para>
		Wenn Zweige für verschiedene Entwicklungslinien verwendet werden,
		werden Sie an einem bestimmten Punkt die Änderungen die Sie in
		einem Zweig gemacht haben wieder in den Hauptast zurückmischen
		wollen, oder umgekehrt.
	</para>
	<para>
		Es ist wichtig zu verstehen, wie verzweigen und mischen in Subversion
		funktioniert bevor Sie es benutzen, denn es kann unter Umständen sehr
		komplex werden. Wir empfehlen Ihnen, das Kapitel 
		<ulink url="http://svnbook.red-bean.com/en/1.1/ch04.html">
			<citetitle>Branching and Merging</citetitle>
		</ulink>
		im
		<ulink url="http://svnbook.red-bean.com/">
			<citetitle>Subversion Book</citetitle>
		</ulink>
		zu lesen. Dieses Kapitel beschreibt ausführlich das Verzweigen und Mischen
		und gibt auch einige Beispiele, wie man diese Werkzeuge am besten
		benutzt.
	</para>
	<para>
		Es gibt im Grunde zwei Fälle fürs Mischen, welche ein wenig unterschiedlich
		gehandhabt werden. Diese werden weiter unten beschrieben.
	</para>
	
	<sect2 id="tsvn-DUG-merge-2">
		<title>Einen Revisionsbereich mischen</title>
		<para>
			Diese Methode wird benutzt wenn Sie eine oder mehrere
			Übertragungen zu einem Zweig (oder den Stamm) gemacht haben und diese
			Änderungen nun zu einem anderen Zweig hinzumischen möchten.
		</para>
		<para>
			<figure id="tsvn-DUG-merge-dia-1">
				<title>Der Mischen-Dialog</title>
				<graphic fileref="images/Merge.png"/>
			</figure>
			Um Revisionen zu einem Zweig hinzuzumischen müssen Sie eine
			Arbeitskopie des Ziel-Zweiges haben, meist ist dies der Hauptstamm (trunk).
			Wählen Sie
			<menuchoice>
				<guimenuitem>Mischen...</guimenuitem>
			</menuchoice>
			vom Kontext-Menu.
			<orderedlist>
				<listitem>
					<para>
						Im <guilabel>Von:</guilabel> Feld geben Sie die URL des
						Zweiges an welcher die Änderungen enthält welche Sie in die
						Arbeitskopie mischen möchten.
						Sie können auch auf <guibutton>...</guibutton> klicken um
						den gewünschten Zweig zu finden.
					</para>
				</listitem>
				<listitem>
					<para>
						Weil Sie einen Bereich von Revisionen in die Arbeitskopie
						mischen, stellen Sie sicher dass <guilabel>Nutze "Von:" URL</guilabel>
						aktiviert ist.
					</para>
				</listitem>
				<listitem>
					<para>
						Im <guilabel>Von Revision</guilabel> Feld geben Sie die Anfangsrevision
						an. Dies ist die Revision <emphasis>vor</emphasis> den Änderungen, welche
						Sie in die Arbeitskopie mischen möchten.
						Revisionsnummern werden automatisch bei jeder Übertragung um eins erhöht.
						Deshalb ist es notwendig, die Revisionsnummber vor der eigentlichen
						Übertragung der Änderung hier anzugeben. Zum Beispiel, wenn Ihre
						Log-Meldungen etwa so aussehen:
<screen>
Rev Log-Meldung
39. Arbeit an  MeinZweig
38. Arbeit am Hauptast (trunk)
37. Arbeit an MeinZweig
36. Erstelle Zweig "MeinZweig"
35. Arbeit am Hauptast
34. Arbeit am Hauptast
         ...
</screen>
						Wenn Sie nun die Änderungen welche Sie an MeinZweig gemacht haben
						in den Hauptast mischen möchten, müssen Sie die Revisionsnummer 36
						als Anfangsrevision angeben, nicht die 37 wie Sie vielleicht denken.
					</para>
					<para>
						Der einfachste Weg um die Revisionsnummern herauszufinden ist
						ein Klick auf <guibutton>Zeige Log</guibutton>. Dies zeigt Ihnen die
						letzten Änderungen inklusive der Log-Meldungen an. Wählen Sie die
						gewünschte Revision im Log-Dialog und klicken Sie auf <guibutton>OK</guibutton>.
					</para>
				</listitem>
				<listitem>
					<para>
						Im <guilabel>Zu Revision</guilabel> Feld geben Sie die letzte
						Revision im Bereich an, welchen Sie zur Arbeitskopie mischen möchten.
						Meist wird dies <literal>HEAD</literal> sein, zwingend ist dies jedoch
						nicht. Sie können auch eine einzelne Revision mischen.
					</para>
				</listitem>
				<listitem>
					<para>
						Klicken Sie auf <guibutton>OK</guibutton> um die Mischung abzuschliessen.
					</para>
				</listitem>
			</orderedlist>
			Das Mischen ist nun beendet. Es ist nun empfehlenswert nicht nur die Meldungen
			des Mischvorgangs zu studieren sondern auch die Arbeitskopie zu überprüfen, ob der
			Mischvorgang auch wie gewünscht ausgefallen ist. Mischen ist für gewöhnlich ein
			bisschen kompliziert, und Konflikte können auftreten vorallem wenn der Zweig sich
			zu weit vom Hauptstamm entfernt hat.
		</para>
		<para>
			Wenn Sie die Änderungen überprüft haben und diese nun übertragen möchten, beachten
			Sie dass die Log-Meldung dieser Übertragung <emphasis>immer</emphasis> die gemischten
			Revisionsnummern erwähnt haben sollte. Wenn Sie später eine weitere Mischung durchführen
			möchten/müssen werden Sie froh sein zu wissen, was alles Sie bereits gemischt haben
			und was nicht. Denn wenn Sie eine Revision welche bereits gemischt wurde nochmals
			mischen möchten, würde dies zwingend zu einem Konflikt führen.
			Für genauere Informationen lesen Sie bitte
			<ulink url="http://svnbook.red-bean.com/en/1.1/ch04s03.html#svn-ch-4-sect-3.2.1">
				<citetitle>Tracking Merges Manually</citetitle>
			</ulink>
			im
			<ulink url="http://svnbook.red-bean.com/">
				<citetitle>Subversion Book</citetitle>
			</ulink>
		</para>
		<para>
			Wenn Sie einen Zweig aktuell mit dem Hauptstamm halten möchten, sollten
			Sie jeweils diese Misch-Methode benutzen.
		</para>
		<para>
			Wenn Sie zuerst nachsehen möchten, welche Dateien durch einen Mischvorgang
			wahrscheinlich verändert werden wählen Sie die Option
			<guibutton>
				Dry Run
			</guibutton>.
			Dadurch wird der Mischvorgang nur Simuliert, <emphasis>ohne</emphasis> dass
			die Arbeitskopie verändert wird.
		</para>
		<important>
			<para>
				Subversion kann keine Datei mit einem Ordner mischen und umgekehrt - nur
				Ordner mit Ordner und Dateien mit Dateien können gemischt werden. Wenn
				Sie auf eine Datei klicken um den Misch-Dialog zu öffnen müssen Sie eine
				URL zu einer Datei angeben, wenn Sie auf einen Ordner klicken um den
				Misch-Dialog zu öffnen müssen Sie eine URL zu einem Ordner angeben für
				den Mischvorgang.
			</para>
		</important>
	</sect2>

	<sect2 id="tsvn-DUG-merge-3">
		<title>Mischen zweier Zweige</title>
		<para>
			Diese Methode behandelt den Fall wo Sie einen Funktionszweig (feature branch)
			haben wie im Subversion book behandelt. Alle Änderungen am Hauptast
			wurden zum Zweig hinzugemischt, Woche für Woche, und nun möchten Sie, da
			die Funktion im Funktionszweig fertig ist diese zurück in den Hauptast mischen.
			Weil Sie den Funktionszweig immer aktuell mit dem Hauptast gehalten haben, sind
			die aktuellsten Versionen des Funktionszweiges und des Hauptstamms identisch, mit
			Ausnahme der auf dem Funktionszweig implementierten Funktion natürlich.
			In diesem speziellen Fall können Sie die Mischung durch einen Vergleich des
			Funktionszweigs mit dem Hauptstamm durchführen.
		</para>
		<para>
			<!-- There may be a different version of the dialog for this case.
			<figure id="tsvn-DUG-merge-dia-1">
				<title>The Merge Dialog</title>
				<graphic fileref="images/Merge.png"/>
			</figure>
			-->
			Um den Funktionszweig in den Hauptstamm zu mischen müssen Sie erst
			zur Arbeitskopie des Hauptstamms gehen. Dann wählen Sie
			<menuchoice>
				<guimenuitem>Mischen...</guimenuitem>
			</menuchoice>
			vom Kontext-Menu.
			<orderedlist>
				<listitem>
					<para>
						Im <guilabel>Von:</guilabel> Feld geben Sie die URL
						des <emphasis>Hauptstamms</emphasis> an (trunk). Dies mag
						Ihnen jetzt vielleicht falsch vorkommen, aber bedenken Sie
						dass der Hauptstamm der Ausgangspunkt ist von dem Sie 
						die Änderungen des Funktionszweigs aus mischen möchten.
						Sie können auch auf
						<guibutton>...</guibutton>
						klicken um die URL besser zu finden.
					</para>
				</listitem>
				<listitem>
					<para>
						Weil Sie zwei unterschiedliche Zweige (Funktionszweig und
						Hauptstamm) vergleichen, stellen Sie sicher dass die
						Checkbox <guilabel>Nutze "Von:" URL</guilabel> <emphasis>nicht</emphasis>
						aktiv ist.
					</para>
				</listitem>
				<listitem>
					<para>
						Im <guilabel>Zu:</guilabel> Feld geben Sie die URL
						des Funktionszweiges an.
					</para>
				</listitem>
				<listitem>
					<para>
						Sowohl im <guilabel>Von Revision</guilabel> Feld als
						auch im <guilabel>Zu Revision</guilabel> Feld geben Sie
						die letzte Revision an in der die beiden Zweige synchron waren.
						Wenn Sie sicher sind dass niemand anders seit Ihrer letzen
						Synchronisation eine Übertragung gemacht hat können Sie in
						beiden Feldern die HEAD Revision angeben.
						Falls jedoch die Möglichkeit einer Übertragung in der Zwischenzeit
						besteht, geben Sie die letzte Revision ihrer Synchronisation an.
					</para>
				</listitem>
				<listitem>
					<para>
						Klicken Sie auf <guibutton>OK</guibutton> um die Mischung abzuschliessen.
					</para>
				</listitem>
			</orderedlist>
		</para>
		<para>
			In diesem Falle werden Sie den Funktionszweig kaum mehr benötigen weil die Funktion
			jetzt ja im Hauptstamm integriert ist. Der Funktionszweig ist also nicht mehr
			nötig und kann deshalb gelöscht werden.
		</para>
	</sect2>
</sect1>
